<!DOCTYPE html>











<html lang="en-us">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  
  <title>Mac新机设置 - 每一个不曾起舞的日子，都是对生命的辜负。</title>

  
  
  <meta name="description" content="前言 基础：系统偏好设置 基础：几个好用的快捷键 基础：安装日常应用（见软件篇） 进阶：安装编程相关应用并配置 进阶：其他设置 进阶：Windows 相关 服务器相关  前言 新的 mbp2018 总算到了，这也是我自己的第一台苹果电脑，自然要熟悉好一会儿，在此记录下我的折腾过程。
基础：系统偏好设置 在设置中，我增加了这些东西
  调度中心：使窗口按应用程序成组
  调度中心：设置触发角（左下角桌面，右下角关闭屏幕）
  节能：屏幕不关闭
  安全与隐私：打开防火墙
  通知：设定哪些程序可以通知
  键盘：文本取消自动纠正与智能引号
  触控板：功能全勾上
  iCloud：功能全勾上
  扩展：&ldquo;今天&quot;中显示的内容
  命令行设置显示全路径
defaults write com.apple.finder _FXShowPosixPathInTitle -bool TRUE; killall Finder   更改截屏保存地址
defaults write com.apple.screencapture location &#34;路径&#34;; killalll SyatemUIserve   Finder 偏好设置
边栏-&gt;全勾上" />
  <meta name="author" content="" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="https://caiyy17.github.io/app.min.css" />

  
  <link rel="preload stylesheet" as="style" href="https://caiyy17.github.io/an-old-hope.min.css" />
  <script
    defer
    src="https://caiyy17.github.io/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>
  

  
  <link rel="preload" as="image" href="https://caiyy17.github.io/theme.png" />

  

  
  <link rel="icon" href="https://caiyy17.github.io/favicon.ico" />
  <link rel="apple-touch-icon" href="https://caiyy17.github.io/apple-touch-icon.png" />

  
  <meta name="generator" content="Hugo 0.97.3" />

  
  

  
  
  
  
  
  
  
  
  
  <meta property="og:title" content="Mac新机设置" />
<meta property="og:description" content="前言 基础：系统偏好设置 基础：几个好用的快捷键 基础：安装日常应用（见软件篇） 进阶：安装编程相关应用并配置 进阶：其他设置 进阶：Windows 相关 服务器相关  前言 新的 mbp2018 总算到了，这也是我自己的第一台苹果电脑，自然要熟悉好一会儿，在此记录下我的折腾过程。
基础：系统偏好设置 在设置中，我增加了这些东西
  调度中心：使窗口按应用程序成组
  调度中心：设置触发角（左下角桌面，右下角关闭屏幕）
  节能：屏幕不关闭
  安全与隐私：打开防火墙
  通知：设定哪些程序可以通知
  键盘：文本取消自动纠正与智能引号
  触控板：功能全勾上
  iCloud：功能全勾上
  扩展：&ldquo;今天&quot;中显示的内容
  命令行设置显示全路径
defaults write com.apple.finder _FXShowPosixPathInTitle -bool TRUE; killall Finder   更改截屏保存地址
defaults write com.apple.screencapture location &#34;路径&#34;; killalll SyatemUIserve   Finder 偏好设置
边栏-&gt;全勾上" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://caiyy17.github.io/posts/computers/mac%E6%96%B0%E6%9C%BA%E8%AE%BE%E7%BD%AE/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-08-15T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-08-15T00:00:00+00:00" />


  
  <meta itemprop="name" content="Mac新机设置">
<meta itemprop="description" content="前言 基础：系统偏好设置 基础：几个好用的快捷键 基础：安装日常应用（见软件篇） 进阶：安装编程相关应用并配置 进阶：其他设置 进阶：Windows 相关 服务器相关  前言 新的 mbp2018 总算到了，这也是我自己的第一台苹果电脑，自然要熟悉好一会儿，在此记录下我的折腾过程。
基础：系统偏好设置 在设置中，我增加了这些东西
  调度中心：使窗口按应用程序成组
  调度中心：设置触发角（左下角桌面，右下角关闭屏幕）
  节能：屏幕不关闭
  安全与隐私：打开防火墙
  通知：设定哪些程序可以通知
  键盘：文本取消自动纠正与智能引号
  触控板：功能全勾上
  iCloud：功能全勾上
  扩展：&ldquo;今天&quot;中显示的内容
  命令行设置显示全路径
defaults write com.apple.finder _FXShowPosixPathInTitle -bool TRUE; killall Finder   更改截屏保存地址
defaults write com.apple.screencapture location &#34;路径&#34;; killalll SyatemUIserve   Finder 偏好设置
边栏-&gt;全勾上"><meta itemprop="datePublished" content="2018-08-15T00:00:00+00:00" />
<meta itemprop="dateModified" content="2018-08-15T00:00:00+00:00" />
<meta itemprop="wordCount" content="426">
<meta itemprop="keywords" content="Computer,Apple," />
  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Mac新机设置"/>
<meta name="twitter:description" content="前言 基础：系统偏好设置 基础：几个好用的快捷键 基础：安装日常应用（见软件篇） 进阶：安装编程相关应用并配置 进阶：其他设置 进阶：Windows 相关 服务器相关  前言 新的 mbp2018 总算到了，这也是我自己的第一台苹果电脑，自然要熟悉好一会儿，在此记录下我的折腾过程。
基础：系统偏好设置 在设置中，我增加了这些东西
  调度中心：使窗口按应用程序成组
  调度中心：设置触发角（左下角桌面，右下角关闭屏幕）
  节能：屏幕不关闭
  安全与隐私：打开防火墙
  通知：设定哪些程序可以通知
  键盘：文本取消自动纠正与智能引号
  触控板：功能全勾上
  iCloud：功能全勾上
  扩展：&ldquo;今天&quot;中显示的内容
  命令行设置显示全路径
defaults write com.apple.finder _FXShowPosixPathInTitle -bool TRUE; killall Finder   更改截屏保存地址
defaults write com.apple.screencapture location &#34;路径&#34;; killalll SyatemUIserve   Finder 偏好设置
边栏-&gt;全勾上"/>

  
  
</head>


  <body class="not-ready" data-menu="false">
    <header class="header">
  
  <p class="logo">
    <a class="site-name" href="https://caiyy17.github.io">每一个不曾起舞的日子，都是对生命的辜负。</a><a class="btn-dark"></a>
  </p>
  

  <script>
    let bodyClx = document.body.classList;
    let btnDark = document.querySelector('.btn-dark');
    let sysDark = window.matchMedia('(prefers-color-scheme: dark)');
    let darkVal = localStorage.getItem('dark');

    let setDark = (isDark) => {
      bodyClx[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark ? 'yes' : 'no');
    };

    setDark(darkVal ? darkVal === 'yes' : sysDark.matches);
    requestAnimationFrame(() => bodyClx.remove('not-ready'));

    btnDark.addEventListener('click', () => setDark(!bodyClx.contains('dark')));
    sysDark.addEventListener('change', (event) => setDark(event.matches));
  </script>

  
  

  
</header>


    <main class="main">

<article class="post-single">
  <header class="post-title">
    <p>
      
      <time>Aug 15, 2018</time>
      
      
    </p>
    <h1>Mac新机设置</h1>
  </header>
  <section class="post-content"><ul>
<li><a href="#%E5%89%8D%E8%A8%80">前言</a></li>
<li><a href="#%E5%9F%BA%E7%A1%80%E7%B3%BB%E7%BB%9F%E5%81%8F%E5%A5%BD%E8%AE%BE%E7%BD%AE">基础：系统偏好设置</a></li>
<li><a href="#%E5%9F%BA%E7%A1%80%E5%87%A0%E4%B8%AA%E5%A5%BD%E7%94%A8%E7%9A%84%E5%BF%AB%E6%8D%B7%E9%94%AE">基础：几个好用的快捷键</a></li>
<li><a href="#%E5%9F%BA%E7%A1%80%E5%AE%89%E8%A3%85%E6%97%A5%E5%B8%B8%E5%BA%94%E7%94%A8%E8%A7%81%E8%BD%AF%E4%BB%B6%E7%AF%87">基础：安装日常应用（见软件篇）</a></li>
<li><a href="#%E8%BF%9B%E9%98%B6%E5%AE%89%E8%A3%85%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3%E5%BA%94%E7%94%A8%E5%B9%B6%E9%85%8D%E7%BD%AE">进阶：安装编程相关应用并配置</a></li>
<li><a href="#%E8%BF%9B%E9%98%B6%E5%85%B6%E4%BB%96%E8%AE%BE%E7%BD%AE">进阶：其他设置</a></li>
<li><a href="#%E8%BF%9B%E9%98%B6windows-%E7%9B%B8%E5%85%B3">进阶：Windows 相关</a></li>
<li><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9B%B8%E5%85%B3">服务器相关</a></li>
</ul>
<h1 id="前言">前言</h1>
<p>新的 mbp2018 总算到了，这也是我自己的第一台苹果电脑，自然要熟悉好一会儿，在此记录下我的折腾过程。</p>
<h1 id="基础系统偏好设置">基础：系统偏好设置</h1>
<p>在设置中，我增加了这些东西</p>
<ol>
<li>
<p>调度中心：使窗口按应用程序成组</p>
</li>
<li>
<p>调度中心：设置触发角（左下角桌面，右下角关闭屏幕）</p>
</li>
<li>
<p>节能：屏幕不关闭</p>
</li>
<li>
<p>安全与隐私：打开防火墙</p>
</li>
<li>
<p>通知：设定哪些程序可以通知</p>
</li>
<li>
<p>键盘：文本取消自动纠正与智能引号</p>
</li>
<li>
<p>触控板：功能全勾上</p>
</li>
<li>
<p>iCloud：功能全勾上</p>
</li>
<li>
<p>扩展：&ldquo;今天&quot;中显示的内容</p>
</li>
<li>
<p>命令行设置显示全路径</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>defaults write com.apple.finder _FXShowPosixPathInTitle -bool TRUE; killall Finder
</span></span></code></pre></div></li>
<li>
<p>更改截屏保存地址</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>defaults write com.apple.screencapture location <span style="color:#e6db74">&#34;路径&#34;</span>; killalll SyatemUIserve
</span></span></code></pre></div></li>
<li>
<p>Finder 偏好设置</p>
<p>边栏-&gt;全勾上</p>
<p>高级-&gt;勾选&quot;显示所有文件扩展名&quot;和&quot;按名称排序时保持文件夹在顶部&rdquo;</p>
<p>顶部 显示-&gt;显示标签页栏，显示状态栏</p>
<p>在任意文件夹空白处-&gt;右键查看显示选项-&gt;改设置并用作默
可以作用于之后新建的文件夹</p>
<p>目前设置：
排列方式：无；排序方式：名称；显示项目简介；显示图标预览</p>
</li>
<li>
<p>文本编辑偏好设置</p>
<p>新建文稿-&gt;格式-&gt;纯文本</p>
<p>新建文稿-&gt;文本取消自动纠正与智能引号</p>
<p>打开和储存-&gt;不自动添加.txt 扩展名</p>
</li>
</ol>
<h1 id="基础几个好用的快捷键">基础：几个好用的快捷键</h1>
<ol>
<li>command+delete 删除；command+shift+delete 清空垃圾箱</li>
<li>command+q 退出程序；command+w 退出当前标签页</li>
<li>command+i 显示信息；command+o 打开文件</li>
<li>command+Up 上一级目录；command+Down 下一级目录</li>
<li>command+control+F 全屏</li>
<li>command+T 新建标签页；command+N 新建窗口；command+shift+N 新建文件夹</li>
<li>其他捷径看键盘偏好设置</li>
<li>Finder 快捷键看工具栏中的标注</li>
<li>触控板使用看触控板偏好设置</li>
<li>command+space：spotlight 搜索</li>
<li>按住绿色全屏按钮可以实现分屏</li>
</ol>
<h1 id="基础安装日常应用见软件篇">基础：安装日常应用（见软件篇）</h1>
<h1 id="进阶安装编程相关应用并配置">进阶：安装编程相关应用并配置</h1>
<ol>
<li>
<p>Xcode+Clion</p>
<p>申请 Apple 开发者账号，从 AppStore 安装 Xcode，生成 macOS 选项下的 CommandLineTool 写 C++工程；Clion 直接下载安装就行，当然有学生免费。</p>
</li>
<li>
<p>VSCode+Git</p>
<p>安装 VSCode，安装 Git，运行 VSCode 并安装插件</p>
<p>配置 Git，在网页 Github 的 develop 设置里加一个个人密码用于 git 的操作（代替密码），并且设置本地记住密码</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git config --global credential.helper store
</span></span></code></pre></div><p>然后本地新建仓库：（在需要建立的文件夹下）</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git init
</span></span><span style="display:flex;"><span>git add .
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;First Commit&#34;</span>
</span></span><span style="display:flex;"><span>git remote add origin &lt;仓库地址&gt;
</span></span><span style="display:flex;"><span>git pull --rebase origin master
</span></span><span style="display:flex;"><span>git push -u origin master
</span></span></code></pre></div><p>或从远程拉取仓库：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git clone &lt;仓库地址&gt;
</span></span></code></pre></div></li>
<li>
<p>Latex</p>
<p>官网下载 MacTex，安装后运行一遍，之后配置 VSCode 的配置文件</p>
</li>
<li>
<p><strong><em>Iterm2 及相关</em></strong></p>
<p><strong><em>Iterm2，oh-my-zsh，homebrew，gnupg</em></strong></p>
<ul>
<li>
<p>安装 Iterm2</p>
</li>
<li>
<p>官方安装 brew</p>
</li>
<li>
<p>安装 oh-my-zsh</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sh -c <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div></li>
<li>
<p>安装主题</p>
<p>安装的主题都在~/.oh-my-zsh/themes 里面，若没有想要的主题可以在网上安装（git clone 然后把.zsh-theme 拷贝到 themes 文件夹里即可）</p>
<p>然后在~/.zshrc 修改主题名字，再</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>source ~/.zshrc
</span></span></code></pre></div></li>
<li>
<p>安装插件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cd ~/.oh-my-zsh/custom/plugins
</span></span><span style="display:flex;"><span>git clone &lt;插件地址&gt;
</span></span></code></pre></div><p>然后在~/.zshrc 中的 Plugins 选项里加入下载的插件，再</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>source ~/.zshrc
</span></span></code></pre></div><p>一些推荐：</p>
<ul>
<li>z（可以以简写跳转历史记录中的目录）</li>
<li>colored-man-pages</li>
<li>zsh-autosuggestions</li>
<li>zsh-syntax-highlighting</li>
</ul>
</li>
<li>
<p>修改配色和背景</p>
<p>这个自己改就行了，也可以网上下现成的然后导入进去</p>
</li>
<li>
<p>安装 gnupg</p>
<p>使用 brew 安装 gnupg，然后写配置文件~/.gnupg/gpg-agent.conf</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>pinentry-program /usr/local/bin/pinentry
</span></span><span style="display:flex;"><span>enable-ssh-support
</span></span></code></pre></div><p>若需要图形界面，可以 brew 安装 pinentry-mac，然后</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>pinentry-program /usr/local/bin/pinentry-mac
</span></span></code></pre></div></li>
</ul>
<p>P.S. 更换 brew 更新源</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 替换brew.git:</span>
</span></span><span style="display:flex;"><span>$ cd <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>brew --repo<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 中国科大:</span>
</span></span><span style="display:flex;"><span>$ git remote set-url origin https://mirrors.ustc.edu.cn/brew.git
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 清华大学:</span>
</span></span><span style="display:flex;"><span>$ git remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 替换homebrew-core.git:</span>
</span></span><span style="display:flex;"><span>$ cd <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>brew --repo<span style="color:#66d9ef">)</span><span style="color:#e6db74">/Library/Taps/homebrew/homebrew-core&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 中国科大:</span>
</span></span><span style="display:flex;"><span>$ git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 清华大学:</span>
</span></span><span style="display:flex;"><span>$ git remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 替换homebrew-bottles:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 中国科大:</span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#39;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles&#39;</span> &gt;&gt; ~/.bash_profile
</span></span><span style="display:flex;"><span>$ source ~/.bash_profile
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 清华大学:</span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#39;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles&#39;</span> &gt;&gt; ~/.bash_profile
</span></span><span style="display:flex;"><span>$ source ~/.bash_profile
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 应用生效:</span>
</span></span><span style="display:flex;"><span>$ brew update
</span></span></code></pre></div><p>（之后还可以安装 brew cask，以及 cake 和 launchpad 两个可视化软件）</p>
</li>
</ol>
<h1 id="进阶其他设置">进阶：其他设置</h1>
<ol>
<li>
<p>创建一个 TempUser 账户供其他人用，设置家长控制，限制其权限</p>
</li>
<li>
<p>设置时间机器</p>
</li>
<li>
<p>分区</p>
<p>分一个存放大的下载文件的盘并排除在 time machine 之外。然后在其中建立一个 temp 文件夹用于存放临时文件，将其快捷方式放在桌面上。</p>
</li>
</ol>
<h1 id="进阶windows-相关">进阶：Windows 相关</h1>
<p>安装 WinToGo</p>
<ol>
<li>
<p>Win 下载 WinToGo 制作软件和官方 iso</p>
<p>用它制作安装盘，选择 uefi 启动方式（这会彻底格式化整个硬盘），vhd 设置大小为 C 盘大小</p>
</li>
<li>
<p>Mac 下载 BootCamp 的驱动程序（在菜单中找）放入 U 盘</p>
</li>
<li>
<p>Mac 下 command+R 启动，使用工具中关闭加密启动，允许外部安装</p>
</li>
<li>
<p>Mac 下 Option 启动安装，，操作中需要一个外置鼠标，最后安装驱动</p>
</li>
</ol>
<h1 id="服务器相关">服务器相关</h1>
<ol>
<li>
<p>连接服务器</p>
<p>使用 brew 安装 gnupg，将公钥放到服务器</p>
<p>P.S. 如果 gpg 崩了就（若使用 sh 执行，执行时用&quot;source 文件名&quot;，也即&quot;. 文件名&quot;）</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>killall gpg-agent
</span></span><span style="display:flex;"><span>eval <span style="color:#66d9ef">$(</span>gpg-agent --daemon --enable-ssh-support<span style="color:#66d9ef">)</span>
</span></span></code></pre></div><p>然后将私钥放入<code>~/.ssh</code>并更改权限为 700，公钥放服务器的<code>~/.ssh</code>，接下来</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>ssh-add -K 私钥文件
</span></span><span style="display:flex;"><span><span style="color:#75715e">#这样就吧key加好了</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ssh -p <span style="color:#f92672">[</span>port<span style="color:#f92672">]</span> 用户名@服务器地址
</span></span></code></pre></div></li>
<li>
<p>使用 yubikey 登陆</p>
<p>安装 PIV Manager 和 Yubikey Manager，然后再</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>brew install yubikey-personalization
</span></span></code></pre></div><p>根据 PIV 的提示设置 PIN，然后就设置完成了，接着连着 Yubikey 就可以使用 PIN 登陆 Mac，而 mac 本身可以设置一个复杂的密码，放在 Yubikey 的 Slot1 或 2（我的设置可以见 yubikey 设置的文章）</p>
</li>
<li>
<p>使用 yubikey 登陆服务器</p>
<p>详情可以见 yubikey 设置的文章。</p>
<p>在~/.gnupg/gpg-agent.conf 中写入</p>
<pre tabindex="0"><code>pinentry-program /usr/local/bin/pinentry
enable-ssh-support
</code></pre><p>gpg-agent 需要经常重启&hellip;这里可以用脚本：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/zsh
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>source ~/.zshrc
</span></span><span style="display:flex;"><span>killall gpg-agent
</span></span><span style="display:flex;"><span>eval <span style="color:#66d9ef">$(</span>gpg-agent --daemon --enable-ssh-support<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;restart&#34;</span>
</span></span></code></pre></div><p>之后&quot;ssh-add -l&quot;卡中的钥匙应该会自动出现，（有可能需要导入公钥信息）。</p>
<p>其他私钥.ssh 中的私钥&quot;ssh-add -K 文件&quot;加一下就行了。</p>
</li>
</ol>
</section>

  
  
  <footer class="post-tags">
     
    <a href="https://caiyy17.github.io/tags/computer">Computer</a>
     
    <a href="https://caiyy17.github.io/tags/apple">Apple</a>
    
  </footer>
  

  
  
  
  <nav class="post-nav">
    
    <a class="prev" href="https://caiyy17.github.io/posts/computers/%E8%BD%AF%E4%BB%B62_vsc%E8%AE%BE%E7%BD%AE%E4%BB%A5%E5%8F%8Atexlive%E8%AE%BE%E7%BD%AE/"><span>←</span><span>软件2:VSC</span></a>
     
    <a class="next" href="https://caiyy17.github.io/posts/computers/md2_%E8%BD%AC%E6%8D%A2%E5%8F%8A%E5%8F%91%E5%B8%83/"><span>Markdown2:转换及发布</span><span>→</span></a>
    
  </nav>
  

  
  
</article>

</main>

    <footer class="footer">
  <p>&copy; 2022 <a href="https://caiyy17.github.io">每一个不曾起舞的日子，都是对生命的辜负。</a></p>
  <p>Powered by <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugo️️</a>️</p>
  <p>
    <a href="https://github.com/nanxiaobei/hugo-paper" rel="noopener" target="_blank">Paper 5.1</a>
  </p>
</footer>

  </body>
</html>
