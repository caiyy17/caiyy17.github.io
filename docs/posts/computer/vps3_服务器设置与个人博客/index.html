<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>VPS3:nginx服务与Hexo博客 | caiyy17</title>
<meta name="keywords" content="VPS, Blog">
<meta name="description" content="前言 一直想做一个个人博客，但又不想在个大博客网站上写，这样很不自由，还不如微信朋友圈（其实主要是感觉 VPS 只用来挂 ss 太亏了，想玩玩&hellip;）但是自己做网站代价很大，而 hexo 便是现成的可以直接挂 blog 的软件，又有丰富的主题科插件。
HEXO 安装 在 Mac 中需要安装 git 和 nodejs，这两个都在 brew 中安装就可以了，brew 安装相关具体可以看 Mac 设置 这篇文章，安装好之后便可以安装 hexo（根据官网来就行）
npm install -g hexo-cli 然后在需要建站的文件夹内：（[folder]为需要建立的文件夹名字）
$ hexo init [folder] $ cd [folder] $ npm install 然后更据提示修改_config.yml 配置文件就行。hexo 的官方文档还是相当详细的。
可以通过 git clone 在 themes 文件夹下安装各种主题，官网有提供一些主题，也可以网上搜，配置同样在各个主题文件夹的_config.yml 中，当然你也可以改动它的 css 和 js。
这里提一下 layout 是用于生成 html 的，比如博客底部的 powered by 相关字段，如果想修改可以进去找 ejs 文件中相关的代码。在我设置过程中我的 theme 生成的 html 对于 about 文件的引用就是不对的（它引用了 about.html 但是 hexo 生成的 about 是在 about/index.">
<meta name="author" content="">
<link rel="canonical" href="https://caiyy17.github.io/posts/computer/vps3_%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%AE%BE%E7%BD%AE%E4%B8%8E%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.ec8da366ca2fb647537ccb7a8f6fa5b4e9cd3c7a0d3171dd2d3baad1e49c8bfc.css" integrity="sha256-7I2jZsovtkdTfMt6j2&#43;ltOnNPHoNMXHdLTuq0eSci/w=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js" integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://caiyy17.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://caiyy17.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://caiyy17.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://caiyy17.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://caiyy17.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="VPS3:nginx服务与Hexo博客" />
<meta property="og:description" content="前言 一直想做一个个人博客，但又不想在个大博客网站上写，这样很不自由，还不如微信朋友圈（其实主要是感觉 VPS 只用来挂 ss 太亏了，想玩玩&hellip;）但是自己做网站代价很大，而 hexo 便是现成的可以直接挂 blog 的软件，又有丰富的主题科插件。
HEXO 安装 在 Mac 中需要安装 git 和 nodejs，这两个都在 brew 中安装就可以了，brew 安装相关具体可以看 Mac 设置 这篇文章，安装好之后便可以安装 hexo（根据官网来就行）
npm install -g hexo-cli 然后在需要建站的文件夹内：（[folder]为需要建立的文件夹名字）
$ hexo init [folder] $ cd [folder] $ npm install 然后更据提示修改_config.yml 配置文件就行。hexo 的官方文档还是相当详细的。
可以通过 git clone 在 themes 文件夹下安装各种主题，官网有提供一些主题，也可以网上搜，配置同样在各个主题文件夹的_config.yml 中，当然你也可以改动它的 css 和 js。
这里提一下 layout 是用于生成 html 的，比如博客底部的 powered by 相关字段，如果想修改可以进去找 ejs 文件中相关的代码。在我设置过程中我的 theme 生成的 html 对于 about 文件的引用就是不对的（它引用了 about.html 但是 hexo 生成的 about 是在 about/index." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://caiyy17.github.io/posts/computer/vps3_%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%AE%BE%E7%BD%AE%E4%B8%8E%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-09-30T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2018-09-30T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="VPS3:nginx服务与Hexo博客"/>
<meta name="twitter:description" content="前言 一直想做一个个人博客，但又不想在个大博客网站上写，这样很不自由，还不如微信朋友圈（其实主要是感觉 VPS 只用来挂 ss 太亏了，想玩玩&hellip;）但是自己做网站代价很大，而 hexo 便是现成的可以直接挂 blog 的软件，又有丰富的主题科插件。
HEXO 安装 在 Mac 中需要安装 git 和 nodejs，这两个都在 brew 中安装就可以了，brew 安装相关具体可以看 Mac 设置 这篇文章，安装好之后便可以安装 hexo（根据官网来就行）
npm install -g hexo-cli 然后在需要建站的文件夹内：（[folder]为需要建立的文件夹名字）
$ hexo init [folder] $ cd [folder] $ npm install 然后更据提示修改_config.yml 配置文件就行。hexo 的官方文档还是相当详细的。
可以通过 git clone 在 themes 文件夹下安装各种主题，官网有提供一些主题，也可以网上搜，配置同样在各个主题文件夹的_config.yml 中，当然你也可以改动它的 css 和 js。
这里提一下 layout 是用于生成 html 的，比如博客底部的 powered by 相关字段，如果想修改可以进去找 ejs 文件中相关的代码。在我设置过程中我的 theme 生成的 html 对于 about 文件的引用就是不对的（它引用了 about.html 但是 hexo 生成的 about 是在 about/index."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://caiyy17.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "VPS3:nginx服务与Hexo博客",
      "item": "https://caiyy17.github.io/posts/computer/vps3_%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%AE%BE%E7%BD%AE%E4%B8%8E%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "VPS3:nginx服务与Hexo博客",
  "name": "VPS3:nginx服务与Hexo博客",
  "description": "前言 一直想做一个个人博客，但又不想在个大博客网站上写，这样很不自由，还不如微信朋友圈（其实主要是感觉 VPS 只用来挂 ss 太亏了，想玩玩\u0026hellip;）但是自己做网站代价很大，而 hexo 便是现成的可以直接挂 blog 的软件，又有丰富的主题科插件。\nHEXO 安装 在 Mac 中需要安装 git 和 nodejs，这两个都在 brew 中安装就可以了，brew 安装相关具体可以看 Mac 设置 这篇文章，安装好之后便可以安装 hexo（根据官网来就行）\nnpm install -g hexo-cli 然后在需要建站的文件夹内：（[folder]为需要建立的文件夹名字）\n$ hexo init [folder] $ cd [folder] $ npm install 然后更据提示修改_config.yml 配置文件就行。hexo 的官方文档还是相当详细的。\n可以通过 git clone 在 themes 文件夹下安装各种主题，官网有提供一些主题，也可以网上搜，配置同样在各个主题文件夹的_config.yml 中，当然你也可以改动它的 css 和 js。\n这里提一下 layout 是用于生成 html 的，比如博客底部的 powered by 相关字段，如果想修改可以进去找 ejs 文件中相关的代码。在我设置过程中我的 theme 生成的 html 对于 about 文件的引用就是不对的（它引用了 about.html 但是 hexo 生成的 about 是在 about/index.",
  "keywords": [
    "VPS", "Blog"
  ],
  "articleBody": "前言 一直想做一个个人博客，但又不想在个大博客网站上写，这样很不自由，还不如微信朋友圈（其实主要是感觉 VPS 只用来挂 ss 太亏了，想玩玩…）但是自己做网站代价很大，而 hexo 便是现成的可以直接挂 blog 的软件，又有丰富的主题科插件。\nHEXO 安装 在 Mac 中需要安装 git 和 nodejs，这两个都在 brew 中安装就可以了，brew 安装相关具体可以看 Mac 设置 这篇文章，安装好之后便可以安装 hexo（根据官网来就行）\nnpm install -g hexo-cli 然后在需要建站的文件夹内：（[folder]为需要建立的文件夹名字）\n$ hexo init [folder] $ cd [folder] $ npm install 然后更据提示修改_config.yml 配置文件就行。hexo 的官方文档还是相当详细的。\n可以通过 git clone 在 themes 文件夹下安装各种主题，官网有提供一些主题，也可以网上搜，配置同样在各个主题文件夹的_config.yml 中，当然你也可以改动它的 css 和 js。\n这里提一下 layout 是用于生成 html 的，比如博客底部的 powered by 相关字段，如果想修改可以进去找 ejs 文件中相关的代码。在我设置过程中我的 theme 生成的 html 对于 about 文件的引用就是不对的（它引用了 about.html 但是 hexo 生成的 about 是在 about/index.html 里面，找到 theme 里 ejs 中提到这个地址的代码改一下就行了）。\n反正，一切都可以改。\n然后用\n$ hexo server -p 5000 这样的命令就可以在 localhost 中看到自己的 blog 了。\n注意一点就是配置文件\":“后面要加空格，这个很敏感，不如回错误…blog 内容就这么多，之后都是设计的工作了，接下来接着讲环境配置。\nnginx 这里假定服务器已经配置好，登陆服务器 shell 开始安装 nginx 相关程序并进行简单配配置。\n安装 LNMP：（感觉以后肯定会有用的，不如一起装了）\nyum install epel-release yum update yum install nginx systemctl start nginx //启动nginx systemctl enable nginx //设置开机启动 yum install php systemctl start php-fpm //开启php-fpm systemctl enable php-fpm //开机自动启动 yum install mariadb //mysql 与服务器关联 本地配置好 hexo，在配置文件中写入\ndeploy: - type: git repo: user@服务器IP:Hexoblog.git(git路径) 本地就准备好了。服务器端配置：\n创建一个网站的根目录（用于存放网站的部署的静态文件，就是 nginx 配置中的 root）\ncd / mkdir /var/www/Hexoblog 在用户目录添加一个.git 用于与本地交流\ncd ~ git init --bare Hexoblog.git cd ~/Hexoblog.git/hooks //配置hook vim post-receive 在 post-receive 中写入：\n#!/bin/zsh //我用的是zsh cd /var/www/Hexoblog //网站root unset GIT_DIR //解放路径 git fetch --all \u0026\u0026 git reset --hard origin/master \u0026\u0026 git pull //强制同步 添加操作权限\nchmod +x ~/Hexoblog.git/hooks/post-receive 修改 nginx 配置 配置在 config 里面\nvim /etc/nginx/nginx.conf server { listen 80 default_server; listen [::]:80 default_server; server_name [域名]; root /var/www/Hexoblog; index index.html; # Load configuration files for the default server block. include /etc/nginx/default.d/*.conf; location / { } error_page 404 /404.html; location = /40x.html { } error_page 500 502 503 504 /50x.html; location = /50x.html { } } 注意需要将网站放的位置路径上一系列文件有+x 权限，并且网站根目录设置为 777 权限，这样使用 git 的用户才能写入。\n本地操作 接下来，本地编辑好文件后，使用\ncd [blog本地路径] hexo generate hexo d 就可以与云端同步了，\n总结 nginx 可以做的远远不止 blog，之后可以做更多有趣的网站方面的尝试，包括监控网站状态，更多的网站功能……但对于简单的 blog，就这些就够了。\nPS 增加 Katex 支持（公式编辑）\n下载插件hexo-renderer-markdown-it-plus\n根据提示安装即可\nnpm un hexo-renderer-marked --save npm i hexo-renderer-markdown-it-plus --save 然后注意要添加 css，一般在对应的 theme 文件夹里的 css 文件夹，又一个 all.styl，文本编辑打开 export 目标的 css（注意有可能有兼容问题，把 katex 导入在第一个目前没有遇到什么问题）\ngithubio 其实完全不用那么复杂，静态网站直接放在 github 上，直接在 github 上建立[username].github.io 的公开仓库，然后在设置里面写上：\ndeploy: type: git repo: git@github.com:[username]/[username].github.io.git ",
  "wordCount" : "307",
  "inLanguage": "en",
  "datePublished": "2018-09-30T00:00:00Z",
  "dateModified": "2018-09-30T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://caiyy17.github.io/posts/computer/vps3_%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%AE%BE%E7%BD%AE%E4%B8%8E%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "caiyy17",
    "logo": {
      "@type": "ImageObject",
      "url": "https://caiyy17.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://caiyy17.github.io" accesskey="h" title="caiyy17 (Alt + H)">caiyy17</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://caiyy17.github.io/categories/" title="categories">
                    <span>categories</span>
                </a>
            </li>
            <li>
                <a href="https://caiyy17.github.io/tags/" title="tags">
                    <span>tags</span>
                </a>
            </li>
            <li>
                <a href="https://caiyy17.github.io/search/" title="search (Alt &#43; /)" accesskey=/>
                    <span>search</span>
                </a>
            </li>
            <li>
                <a href="https://caiyy17.github.io/archives/" title="archives">
                    <span>archives</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://caiyy17.github.io">Home</a>&nbsp;»&nbsp;<a href="https://caiyy17.github.io/posts/">Posts</a></div>
    <h1 class="post-title">
      VPS3:nginx服务与Hexo博客
    </h1>
    <div class="post-meta"><span title='2018-09-30 00:00:00 +0000 UTC'>September 30, 2018</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e5%89%8d%e8%a8%80" aria-label="前言">前言</a></li>
                <li>
                    <a href="#hexo-%e5%ae%89%e8%a3%85" aria-label="HEXO 安装">HEXO 安装</a></li>
                <li>
                    <a href="#nginx" aria-label="nginx">nginx</a></li>
                <li>
                    <a href="#%e4%b8%8e%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%85%b3%e8%81%94" aria-label="与服务器关联">与服务器关联</a></li>
                <li>
                    <a href="#%e4%bf%ae%e6%94%b9-nginx-%e9%85%8d%e7%bd%ae" aria-label="修改 nginx 配置">修改 nginx 配置</a></li>
                <li>
                    <a href="#%e6%9c%ac%e5%9c%b0%e6%93%8d%e4%bd%9c" aria-label="本地操作">本地操作</a></li>
                <li>
                    <a href="#%e6%80%bb%e7%bb%93" aria-label="总结">总结</a></li>
                <li>
                    <a href="#ps" aria-label="PS">PS</a></li>
                <li>
                    <a href="#githubio" aria-label="githubio">githubio</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="前言">前言<a hidden class="anchor" aria-hidden="true" href="#前言">#</a></h1>
<p>一直想做一个个人博客，但又不想在个大博客网站上写，这样很不自由，还不如微信朋友圈（其实主要是感觉 VPS 只用来挂 ss 太亏了，想玩玩&hellip;）但是自己做网站代价很大，而 hexo 便是现成的可以直接挂 blog 的软件，又有丰富的主题科插件。</p>
<h1 id="hexo-安装">HEXO 安装<a hidden class="anchor" aria-hidden="true" href="#hexo-安装">#</a></h1>
<p>在 Mac 中需要安装 git 和 nodejs，这两个都在 brew 中安装就可以了，brew 安装相关具体可以看
<a href="/2018/08/15/Computer/Mac1_%E6%96%B0%E6%9C%BA%E8%AE%BE%E7%BD%AE/">Mac 设置</a>
这篇文章，安装好之后便可以安装 hexo（根据官网来就行）</p>
<pre tabindex="0"><code>npm install -g hexo-cli
</code></pre><p>然后在需要建站的文件夹内：（[folder]为需要建立的文件夹名字）</p>
<pre tabindex="0"><code>$ hexo init [folder]
$ cd [folder]
$ npm install
</code></pre><p>然后更据提示修改_config.yml 配置文件就行。hexo 的官方文档还是相当详细的。</p>
<p>可以通过 git clone 在 themes 文件夹下安装各种主题，官网有提供一些主题，也可以网上搜，配置同样在各个主题文件夹的_config.yml 中，当然你也可以改动它的 css 和 js。</p>
<p>这里提一下 layout 是用于生成 html 的，比如博客底部的 powered by 相关字段，如果想修改可以进去找 ejs 文件中相关的代码。在我设置过程中我的 theme 生成的 html 对于 about 文件的引用就是不对的（它引用了 about.html 但是 hexo 生成的 about 是在 about/index.html 里面，找到 theme 里 ejs 中提到这个地址的代码改一下就行了）。</p>
<p>反正，一切都可以改。</p>
<p>然后用</p>
<pre tabindex="0"><code>$ hexo server -p 5000
</code></pre><p>这样的命令就可以在 localhost 中看到自己的 blog 了。</p>
<p>注意一点就是配置文件&quot;:&ldquo;后面要加空格，这个很敏感，不如回错误&hellip;blog 内容就这么多，之后都是设计的工作了，接下来接着讲环境配置。</p>
<h1 id="nginx">nginx<a hidden class="anchor" aria-hidden="true" href="#nginx">#</a></h1>
<p>这里假定服务器已经配置好，登陆服务器 shell 开始安装 nginx 相关程序并进行简单配配置。</p>
<p>安装 LNMP：（感觉以后肯定会有用的，不如一起装了）</p>
<pre tabindex="0"><code>yum install epel-release
yum update
yum install nginx
systemctl start nginx //启动nginx
systemctl enable nginx //设置开机启动

yum install php
systemctl start php-fpm //开启php-fpm
systemctl enable php-fpm //开机自动启动

yum install mariadb //mysql
</code></pre><h1 id="与服务器关联">与服务器关联<a hidden class="anchor" aria-hidden="true" href="#与服务器关联">#</a></h1>
<p>本地配置好 hexo，在配置文件中写入</p>
<pre tabindex="0"><code>deploy:
- type: git
  repo: user@服务器IP:Hexoblog.git(git路径)
</code></pre><p>本地就准备好了。服务器端配置：</p>
<p>创建一个网站的根目录（用于存放网站的部署的静态文件，就是 nginx 配置中的 root）</p>
<pre tabindex="0"><code>cd /
mkdir /var/www/Hexoblog
</code></pre><p>在用户目录添加一个.git 用于与本地交流</p>
<pre tabindex="0"><code>cd ~
git init --bare Hexoblog.git
cd ~/Hexoblog.git/hooks //配置hook
vim post-receive
</code></pre><p>在 post-receive 中写入：</p>
<pre tabindex="0"><code>#!/bin/zsh //我用的是zsh
cd /var/www/Hexoblog //网站root
unset GIT_DIR //解放路径
git fetch --all &amp;&amp; git reset --hard origin/master &amp;&amp; git pull //强制同步
</code></pre><p>添加操作权限</p>
<pre tabindex="0"><code>chmod +x ~/Hexoblog.git/hooks/post-receive
</code></pre><h1 id="修改-nginx-配置">修改 nginx 配置<a hidden class="anchor" aria-hidden="true" href="#修改-nginx-配置">#</a></h1>
<p>配置在 config 里面</p>
<pre tabindex="0"><code>vim /etc/nginx/nginx.conf
</code></pre><pre tabindex="0"><code>server {
        listen       80 default_server;
        listen       [::]:80 default_server;
        server_name  [域名];
        root         /var/www/Hexoblog;
        index index.html;

        # Load configuration files for the default server block.
        include /etc/nginx/default.d/*.conf;

        location / {
        }

        error_page 404 /404.html;
            location = /40x.html {
        }

        error_page 500 502 503 504 /50x.html;
            location = /50x.html {
        }
}
</code></pre><p>注意需要将网站放的位置路径上一系列文件有+x 权限，并且网站根目录设置为 777 权限，这样使用 git 的用户才能写入。</p>
<h1 id="本地操作">本地操作<a hidden class="anchor" aria-hidden="true" href="#本地操作">#</a></h1>
<p>接下来，本地编辑好文件后，使用</p>
<pre tabindex="0"><code>cd [blog本地路径]
hexo generate
hexo d
</code></pre><p>就可以与云端同步了，</p>
<h1 id="总结">总结<a hidden class="anchor" aria-hidden="true" href="#总结">#</a></h1>
<p>nginx 可以做的远远不止 blog，之后可以做更多有趣的网站方面的尝试，包括监控网站状态，更多的网站功能&hellip;&hellip;但对于简单的 blog，就这些就够了。</p>
<h1 id="ps">PS<a hidden class="anchor" aria-hidden="true" href="#ps">#</a></h1>
<p>增加 Katex 支持（公式编辑）</p>
<p>下载插件<a href="https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus">hexo-renderer-markdown-it-plus</a></p>
<p>根据提示安装即可</p>
<pre tabindex="0"><code>npm un hexo-renderer-marked --save
npm i hexo-renderer-markdown-it-plus --save
</code></pre><p>然后注意要添加 css，一般在对应的 theme 文件夹里的 css 文件夹，又一个 all.styl，文本编辑打开 export 目标的 css（注意有可能有兼容问题，把 katex 导入在第一个目前没有遇到什么问题）</p>
<h1 id="githubio">githubio<a hidden class="anchor" aria-hidden="true" href="#githubio">#</a></h1>
<p>其实完全不用那么复杂，静态网站直接放在 github 上，直接在 github 上建立[username].github.io 的公开仓库，然后在设置里面写上：</p>
<pre tabindex="0"><code>deploy:
  type: git
  repo: git@github.com:[username]/[username].github.io.git
</code></pre>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://caiyy17.github.io/tags/vps/">VPS</a></li>
      <li><a href="https://caiyy17.github.io/tags/blog/">Blog</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://caiyy17.github.io/posts/computer/vps2_socks%E5%8D%8F%E8%AE%AE%E4%B8%8Ess%E8%AE%BE%E7%BD%AE/">
    <span class="title">« Prev</span>
    <br>
    <span>VPS2:socks协议以及ss设置</span>
  </a>
  <a class="next" href="https://caiyy17.github.io/posts/computer/yubikey1_%E4%B8%AA%E4%BA%BA%E5%AE%89%E5%85%A8/">
    <span class="title">Next »</span>
    <br>
    <span>yubikey1:个人安全与yubikey</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://caiyy17.github.io">caiyy17</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
